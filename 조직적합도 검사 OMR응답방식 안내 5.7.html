<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡°ì§ì í•©ë„ê²€ì‚¬ ì˜ˆì œ</title>
     <style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 20px;
    }
    table {
        width: 100%;
        border-collapse: separate; /* ìˆ˜ì •ë¨ */
        border-spacing: 0; /* ìˆ˜ì •ë¨ */
        margin-top: 20px;
        border-radius: 10px; /* ìˆ˜ì •ë¨ */
        overflow: hidden; /* ìˆ˜ì •ë¨ */
    }
    th, td {
        border: 1px solid #b7b7b7;
        padding: 10px;
        text-align: center;
        font-size: 18px;
        width: 8%; /* 6ê°œ ì—´ì„ ë™ì¼í•œ ë¹„ìœ¨ë¡œ */
    }
    th {
        background-color: #224867;
	color: white;
    }
    td.question {
        text-align: left;
        width: 30%;
    }
    td.identifier {
        text-align: center;
        width: 2%;
    }
    .big-dot {
        font-size: 30px;
    }
    .refresh-button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
    }
    .option-button {
    display: block;
    padding: 10px;
    margin: 5px auto;
    background-color: #f4f4f4;
    border: 1px solid #ccc;
    cursor: pointer;
    font-size: 16px;
    width: 80%;
    text-align: left;
    border-radius: 10px; /* ğŸ”½ ì¶”ê°€: ë‘¥ê·¼ ë²„íŠ¼ */
}

.option-button.selected {
    background-color:  #224867;
    color: white;
    /* border-radius: 10px; â† ë„£ì–´ë„ ë¬´ë°©í•¨ */
}

    td:nth-child(7), td:nth-child(8) {
        background-color: #f4f4f4;
    }

    /* ğŸ”½ ë‘¥ê·¼ ëª¨ì„œë¦¬ íš¨ê³¼ - ì²«/ë§ˆì§€ë§‰ í–‰ì˜ ì…€ì— ê°œë³„ ì ìš© */
    table tr:first-child th:first-child {
        border-top-left-radius: 10px;
    }
    table tr:first-child th:last-child {
        border-top-right-radius: 10px;
    }
    table tr:last-child td:first-child {
        border-bottom-left-radius: 10px;
    }
    table tr:last-child td:last-child {
        border-bottom-right-radius: 10px;
    }
</style>

</head>
<body>
    <h2>ì¡°ì§ì í•©ë„ ê²€ì‚¬ ë¬¸í•­ì˜ˆì œ</h2>
<br>ë³¸ ê²€ì‚¬ëŠ” 4ê°œ ì§„ìˆ ë¬¸ì„ í•˜ë‚˜ì˜ ì„¸íŠ¸ë¡œ í•˜ì—¬ ì´ 63ê°œ ì„¸íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</br>
<br>í•˜ë‚˜ì˜ ì„¸íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ì œì‹œë˜ë©°, ì‘ë‹µì€ ë¶€ì—¬ ë°›ì€ ë‹µì•ˆì§€ì— ì •í™•íˆ ë§ˆí‚¹í•´ì•¼ í•©ë‹ˆë‹¤.</br>
<br> ê° ë¬¸í•­ì˜ ì‘ë‹µì„ ì™„ë£Œí•˜ê³  ë‚˜ë©´ OMR ë‹µì•ˆì§€ì— ì–´ë–»ê²Œ ê¸°ì…í•´ì•¼ í•˜ëŠ”ì§€ ì˜ˆì‹œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</br> 
    <form id="survey-form" onsubmit="return false;">
        <h3>ğŸ“Œ 1. ê° ë¬¸í•­ì„ ì½ê³  ìì‹ ì—ê²Œ í•´ë‹¹í•˜ëŠ” í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”</h3>
        <table>
            <tr>
                <th colspan="2">Item Set</th>
                <th>ì „í˜€ <br>ê·¸ë ‡ì§€ ì•Šë‹¤</th>
                <th>ê·¸ë ‡ì§€<br> ì•Šë‹¤</th>
                <th>ê·¸ë ‡ë‹¤</th>
                <th>ë§¤ìš°<br> ê·¸ë ‡ë‹¤</th>
            </tr>
            <tbody id="survey-questions"></tbody>
        </table>
    </form>
    
    <h3>ğŸ“Œ 2. ì‘ë‹µí–ˆë˜ ì§„ìˆ ë¬¸ ì¤‘ ìì‹ ì˜ ëª¨ìŠµê³¼ ê°€ì¥ ê°€ê¹ë‹¤ê³  ìƒê°ë˜ëŠ” ê²ƒê³¼(Most), ê·¸ë ‡ì§€ ì•Šì€(Least) ë¬¸í•­ì„ ê°ê° ì„ íƒí•´ ì£¼ì„¸ìš”.</h3>
    <div>
        <p><strong>4ê°œì˜ ì§„ìˆ ë¬¸ ì¤‘ ìƒëŒ€ì ìœ¼ë¡œ ë‚˜ì˜ ëª¨ìŠµê³¼ ê°€ì¥ ê°€ê¹ê³ , ë‚˜ì˜ ëª¨ìŠµì„ ì˜ í‘œí˜„í•˜ëŠ” ì§„ìˆ ë¬¸ì„ ì„ íƒí•´ì£¼ì„¸ìš”.(M):</strong></p>
        <div id="closest-options"></div>
    </div>
    <div>
        <p><strong>ë‚¨ì€ 3ê°œì˜ ì§„ìˆ ë¬¸ ì¤‘ ìƒëŒ€ì ìœ¼ë¡œ ë‚˜ì˜ ëª¨ìŠµê³¼ ê°€ì¥ ë‹¤ë¥¸ ì§„ìˆ ë¬¸ì„ ì„ íƒí•´ì£¼ì„¸ìš”.(L):</strong></p>
        <div id="farthest-options"></div>
    </div>
    
    <h3>ğŸ“Œ OMR ê¸°ì… ì˜ˆì œ</h3>
   <br>ì•„ë˜ì˜ ê²°ê³¼ëŠ” ì§€ì›ìë‹˜ì´ ì‘ë‹µí•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•œ OMR ê¸°ì… ì˜ˆì‹œì…ë‹ˆë‹¤.</br>
   <br>ì°¸ê³ í•˜ì—¬ í‰ê°€ì¼ì—ëŠ” ë‹µì•ˆì§€ì— ì•„ë˜ì™€ ê°™ì´ ê·¸ëŒ€ë¡œ ë§ˆí‚¹í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</br>	
   <br><span style="color: red; font-weight: bold;">(M)ì¹¸ê³¼ (L)ì¹¸ì—ëŠ” ë™ì¼í•œ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span></br>
    <table>
        <tr>
            <th colspan="2">Item Set</th>
            <th>â‘ </th>
	    <th>â‘¡</th>
	    <th>â‘¢</th>
	    <th>â‘£</th>
            <th>M</th>
            <th>L</th>
        </tr>
        <tbody id="omr-results"></tbody>
    </table>
    
    <button class="refresh-button" onclick="location.reload()">ë‹¤ì‹œ ì‘ë‹µí•˜ê¸°(ìƒˆë¡œê³ ì¹¨)</button>
    
    <script>
        const questions = {
            q1: "ë‚˜ëŠ” ì£¼ë³€ì‚¬ëŒë“¤ë¡œë¶€í„° ì„±ì‹¤í•˜ë‹¤ëŠ” í‰ê°€ë¥¼ ë°›ëŠ”ë‹¤.",
            q2: "ë‚˜ëŠ” ëª¨ì„ì—ì„œ ëŒ€í™”ë¥¼ ë¨¼ì € ì‹œì‘í•˜ëŠ” í¸ì´ë‹¤.",
            q3: "ë‚˜ëŠ” ê·œì¹™ì„ ì˜ ì§€í‚¤ëŠ” í¸ì´ë‹¤.",
            q4: "ë‚˜ëŠ” ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."
        };
        let closestSelection = "";
        let farthestSelection = "";
        
        function loadSurveyQuestions() {
            const surveyBody = document.getElementById("survey-questions");
            surveyBody.innerHTML = "";
            let labels = ["â“", "â“‘", "â“’", "â““"];
            let index = 0;
            for (const key in questions) {
                let row = `<tr><td class='identifier'>${labels[index]}</td><td class='question'>${questions[key]}</td>`;
                for (let i = 1; i <= 4; i++) {
                    row += `<td><input type='radio' name='${key}' value='${i}' onchange='updateOMR()'></td>`;
                }
                row += "</tr>";
                surveyBody.innerHTML += row;
                index++;
            }
            renderOptions("closest-options");
        }
        
 	function renderOptions(divId, exclude = null) {
    	const div = document.getElementById(divId);
    	div.innerHTML = "";
    	let labels = ["â“", "â“‘", "â“’", "â““"]; 
    	let keys = Object.keys(questions); // ì›ë˜ ìˆœì„œ ìœ ì§€

    	for (let i = 0; i < keys.length; i++) {
        let key = keys[i];
        if (key !== exclude) {
            const btn = document.createElement("button");
            btn.textContent = `${labels[i]} ${questions[key]}`; // ê³ ì •ëœ ë¼ë²¨ ìœ ì§€
            btn.className = "option-button";
            btn.dataset.key = key;
            btn.onclick = function () {
                selectOption(divId, key, btn);
            };
            div.appendChild(btn);
	        }
	    }
	}
    function selectOption(divId, key, button) {
    let isDeselected = false;
    
    // ê¸°ì¡´ ì„ íƒ í•´ì œ ë¡œì§ ì¶”ê°€
    if (divId === "closest-options") {
        if (closestSelection === key) {
            closestSelection = "";
            isDeselected = true;
        } else {
            closestSelection = key;
        }
    } else if (divId === "farthest-options") {
        if (farthestSelection === key) {
            farthestSelection = "";
            isDeselected = true;
        } else {
            farthestSelection = key;
        }
    }

    // ê°™ì€ í–‰ì—ì„œ Mê³¼ Lì´ ì¤‘ë³µ ì„ íƒëœ ê²½ìš° Lì„ ìë™ í•´ì œ
    if (closestSelection === farthestSelection) {
        farthestSelection = "";
    }

    // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
    document.querySelectorAll(`#${divId} .option-button`).forEach(btn => {
        btn.classList.remove("selected");
    });

    // ì„ íƒì´ í•´ì œë˜ì§€ ì•Šì€ ê²½ìš°ì—ë§Œ ë²„íŠ¼ì„ ê°•ì¡°
    if (!isDeselected) {
        button.classList.add("selected");
    }

    updateOMR();
}
       
function updateOMR() {
    const omrResults = document.getElementById("omr-results");
    omrResults.innerHTML = "";
    let labels = ["â“", "â“‘", "â“’", "â““"];
    let numberMap = ["â‘ ", "â‘¡", "â‘¢", "â‘£"];
    let index = 0;

    for (const key in questions) {
        let selected = document.querySelector(`input[name='${key}']:checked`);
        let selectedValue = selected ? parseInt(selected.value) : "";

        let row = `<tr><td class='identifier'>${labels[index]}</td><td class='question'>${questions[key]}</td>`;

        for (let i = 1; i <= 4; i++) {
            row += selectedValue == i ? `<td><span class='big-dot'>â—</span></td>` : `<td>${numberMap[i - 1]}</td>`;
        }

        // Mê³¼ Lì˜ ë§ˆí‚¹ í•´ì œ ë¡œì§ ì¶”ê°€
        let mMarking = (closestSelection === key) ? "<span class='big-dot'>â—</span>" : labels[index];
        let lMarking = (farthestSelection === key) ? "<span class='big-dot'>â—</span>" : labels[index];

        // Mê³¼ Lì´ ê°™ì€ í–‰ì—ì„œ ì„ íƒë˜ì—ˆì„ ê²½ìš° ìë™ í•´ì œ
        if (closestSelection === key && farthestSelection === key) {
            mMarking = labels[index];
            lMarking = labels[index];
            closestSelection = "";
            farthestSelection = "";
            
            // ì„ íƒí•œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ë„ ì´ˆê¸°í™”
            document.querySelectorAll(".option-button").forEach(btn => {
                btn.classList.remove("selected");
            });
        }

        row += `<td>${mMarking}</td>`;
        row += `<td>${lMarking}</td>`;

        row += `</tr>`;
        omrResults.innerHTML += row;
        index++;
    }
}

        




function selectOption(divId, key, button) {
    document.querySelectorAll(`#${divId} .option-button`).forEach(btn => {
        btn.classList.remove("selected");
    });

    // ì„ íƒì„ í•´ì œí•  ê²½ìš° (ì´ë¯¸ ì„ íƒëœ ë²„íŠ¼ì„ ë‹¤ì‹œ í´ë¦­í•˜ë©´ ì„ íƒ í•´ì œ)
    if (divId === "closest-options" && closestSelection === key) {
        closestSelection = "";
    } else if (divId === "farthest-options" && farthestSelection === key) {
        farthestSelection = "";
    } else {
        button.classList.add("selected");

        if (divId === "closest-options") {
            closestSelection = key;
            renderOptions("farthest-options", key);
        } else {
            farthestSelection = key;
        }
    }

    updateOMR();
}


        
        window.onload = function () {
            loadSurveyQuestions();
        };
    </script>
</body>
</html>
